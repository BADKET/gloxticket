{"version":3,"file":"delete.js","sourceRoot":"/","sources":["utils/delete.ts"],"names":[],"mappings":";;;AAAA,2CAA4D;AAC5D,iCAA6B;AAGtB,MAAM,YAAY,GAAG,KAAK,EAAE,WAA8B,EAAE,MAAsB,EAAE,EAAE;IAE5F,IAAI,CAAC,WAAW,CAAC,OAAO,IAAI,WAAW,CAAC,OAAO,CAAC,IAAI,KAAK,wBAAW,CAAC,SAAS;QAC7E,OAAO,MAAM,WAAW,CAAC,KAAK,CAAC;YAC9B,OAAO,EAAE,oDAAoD;YAC7D,SAAS,EAAE,IAAI;SACf,CAAC,CAAC;IAEJ,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC;QACrD,KAAK,EAAE;YACN,SAAS,EAAE,WAAW,CAAC,OAAO,CAAC,EAAE;SACjC;KACD,CAAC,CAAC;IAEH,IAAI,CAAC,MAAM;QAAE,OAAO,MAAM,WAAW,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9F,IAAA,UAAG,EACF;QACC,OAAO,EAAE,cAAc;QACvB,IAAI,EAAE,WAAW,CAAC,IAAI;QACtB,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,eAAe,EAAE,MAAM,CAAC,SAAS;QACjC,aAAa,EAAE,MAAM,CAAC,UAAU,IAAI,SAAS;KAC7C,EACD,MAAM,CACN,CAAC;IACF,MAAM,WAAW,CAAC,WAAW,EAAE,CAAC;IAChC,MAAM,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;AACpC,CAAC,CAAC;AA3BW,QAAA,YAAY,gBA2BvB;AAEF;;EAEE","sourcesContent":["import { ButtonInteraction, ChannelType } from \"discord.js\";\nimport { log } from \"./logs\";\nimport { ExtendedClient } from \"../structure\";\n\nexport const deleteTicket = async (interaction: ButtonInteraction, client: ExtendedClient) => {\n\n\tif (!interaction.channel || interaction.channel.type !== ChannelType.GuildText)\n\t\treturn await interaction.reply({\n\t\t\tcontent: \"This command can only be used in a ticket channel.\",\n\t\t\tephemeral: true\n\t\t});\n\n\tconst ticket = await client.prisma.tickets.findUnique({\n\t\twhere: {\n\t\t\tchannelid: interaction.channel.id\n\t\t}\n\t});\n\n\tif (!ticket) return await interaction.reply({ content: \"Ticket not found\", ephemeral: true });\n\tlog(\n\t\t{\n\t\t\tLogType: \"ticketDelete\",\n\t\t\tuser: interaction.user,\n\t\t\tticketId: ticket.id,\n\t\t\tticketCreatedAt: ticket.createdat,\n\t\t\ttranscriptURL: ticket.transcript ?? undefined,\n\t\t},\n\t\tclient\n\t);\n\tawait interaction.deferUpdate();\n\tawait interaction.channel.delete();\n};\n\n/*\nCopyright 2026 BADKET\n*/\n"]}